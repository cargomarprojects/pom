<div class="page-header">
  <div class="col">
    <label class="col-form-label col-form-label-sm mr-1"><strong>ORDER LIST</strong></label>
    <button class="btn btn-primary btn-sm mr-1" (click)="ActionHandler('LIST','')">List</button>
    <button class="btn btn-primary btn-sm mr-1" (click)="ActionHandler('ADD','')">New</button>
    <button class="btn btn-primary btn-sm mr-1" *ngIf="bAdmin" (click)="DeleteRecord()">Delete</button>
    <button class="btn btn-primary btn-sm mr-1" (click)="Close()">Close</button>
  </div>
</div>

<div class="page-list">
  <div *ngIf="errorMessage$ | async" class="alert alert-danger">
    {{errorMessage$ | async}}
  </div>
</div>

<div class="page-list">

  <app-orderlist-header [_query]="searchQuery$ | async" (searchEvents)="searchEvents($event)">
  </app-orderlist-header>

  <App-Page [pageQuery]="pageQuery$ | async" (pageEvents)="pageEvents($event)"></App-Page>

  <div class="page-body table-responsive">

    <table class="table  table-hover table-sm">
      <thead class="page-body-thead">
        <tr>
          <th><input type="checkbox" [(ngModel)]="selectcheck" (click)="SelectCheckbox()"></th>
          <th>REF#</th>
          <th>AGENT</th>
          <th>SHIPPER</th>
          <th>CONSIGNEE</th>
          <th>PO.ID</th>
          <th>PO#</th>
          <th>STYLE</th>
          <th>COLOR</th>
          <th>EDI</th>
          <th>OUR.BK#</th>
          <th>AGENT.BK#</th>
          <th>ORD.SELECTED</th>
          <th>PLANNING#</th>
          <th>WEEK#</th>
          <th>JOB#</th>
          <th>STATUS</th>
          <th class="text-right">PKGS</th>
          <th class="text-right">PCS</th>
          <th class="text-right">NTWT</th>
          <th class="text-right">GRWT</th>
          <th class="text-right">CBM</th>
          <th>DESCRIPTION</th>
          <th>UNECO</th>
          <th>HS.CODE</th>
          <th>INVOICE#</th>
          <th>POL</th>
          <th>POD</th>
          <th>CARGO.STATUS</th>
          <th>TRACK.STATUS</th>
          <th>CREATED</th>
          <th>WINDOW1</th>
          <th>WINDOW2</th>
          <th>INSTOCK1</th>
          <th>INSTOCK2</th>
        </tr>
      </thead>
      <tbody class="page-body-tbody" *ngFor="let rec of recordlist$ | async">
        <tr>
          <td><input type="checkbox" [(ngModel)]="rec.ord_selected"></td>
          <td>{{rec.ord_agentref_id}}</td>
          <td (click)="ActionHandler('EDIT',rec.ord_pkid)">{{rec.ord_agent_name}}</td>
          <td (click)="ActionHandler('EDIT',rec.ord_pkid)">{{rec.ord_exp_name}}</td>
          <td>{{rec.ord_imp_name}}</td>
          <td>{{rec.ord_uid}}</td>
          <td>{{rec.ord_po}}</td>
          <td>{{rec.ord_style}}</td>
          <td>{{rec.ord_color}}</td>
          <td>{{rec.ord_ftp_status}}</td>
          <td>{{rec.ord_ourbooking_no}}</td>
          <td>{{rec.ord_booking_no}}</td>
          <td>{{rec.ord_approved ? 'YES' : 'NO'}}</td>
          <td>{{rec.ord_plan_no}}</td>
          <td>{{rec.ord_week_no}}</td>
          <td>{{rec.job_docno}}</td>
          <td>{{rec.ord_status}}</td>
          <td align='right'>{{rec.ord_pkg | number : '1.2-2'}}</td>
          <td align='right'>{{rec.ord_pcs | number : '1.2-2'}}</td>
          <td align='right'>{{rec.ord_ntwt | number : '1.3-3'}}</td>
          <td align='right'>{{rec.ord_grwt | number : '1.3-3'}}</td>
          <td align='right'>{{rec.ord_cbm | number : '1.3-3'}}</td>
          <td height="5">{{rec.ord_desc}}</td>
          <td>{{rec.ord_uneco}}</td>
          <td>{{rec.ord_hs_code}}</td>
          <td>{{rec.ord_invno}}</td>
          <td>{{rec.ord_pol}}</td>
          <td>{{rec.ord_pod}}</td>
          <td>{{rec.ord_cargo_status}}</td>
          <td>{{rec.ord_track_status}}</td>
          <td>{{rec.rec_created_dte}}</td>
          <td>{{rec.ord_window1}}</td>
          <td>{{rec.ord_window2}}</td>
          <td>{{rec.ord_instock1}}</td>
          <td>{{rec.ord_instock2}}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <App-Page [pageQuery]="pageQuery$ | async" (pageEvents)="pageEvents($event)"></App-Page>

</div>